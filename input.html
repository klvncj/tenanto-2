<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Highlighter</title>
    <style>
        .highlight {
            background-color: yellow;
            font-weight: bold;
        }
    </style>
</head>
<body>

<input type="text" id="searchBar" placeholder="Search..." oninput="highlightText()">

<div id="content">
    <p>This is some sample text. Search for keywords to highlight them.</p>
    <p>Another paragraph with different content. Searching is case-sensitive.</p>
</div>

<script>
    function highlightText() {
        // Get the search input value
        var searchText = document.getElementById('searchBar').value;

        // Reset previous highlights
        removeHighlights();

        if (searchText.trim() !== '') {
            // Create a regular expression with the search text and word boundaries
            var regex = new RegExp('\\b' + searchText + '\\b', 'gi');

            // Get the content element
            var content = document.getElementById('content');

            // Iterate through text nodes and highlight matches
            highlightMatches(content, regex);
        }
    }

    function highlightMatches(element, regex) {
        if (element.nodeType === 3) {  // Text node
            var matches = element.nodeValue.match(regex);
            if (matches) {
                var span = document.createElement('span');
                span.className = 'highlight';
                element.parentNode.insertBefore(span, element);

                matches.forEach(function (match) {
                    var index = element.nodeValue.indexOf(match);
                    var before = element.nodeValue.substring(0, index);
                    var after = element.nodeValue.substring(index + match.length);

                    var textNodeBefore = document.createTextNode(before);
                    var textNodeMatch = document.createTextNode(match);
                    var textNodeAfter = document.createTextNode(after);

                    span.appendChild(textNodeBefore);
                    span.appendChild(textNodeMatch);

                    element.parentNode.removeChild(element);

                    if (after) {
                        span.appendChild(textNodeAfter);
                    }
                });
            }
        } else if (element.nodeType === 1) {  // Element node
            for (var i = 0; i < element.childNodes.length; i++) {
                highlightMatches(element.childNodes[i], regex);
            }
        }
    }

    function removeHighlights() {
        var highlights = document.querySelectorAll('.highlight');
        highlights.forEach(function (highlight) {
            var parent = highlight.parentNode;
            while (highlight.firstChild) {
                parent.insertBefore(highlight.firstChild, highlight);
            }
            parent.removeChild(highlight);
        });
    }
</script>

</body>
</html>
